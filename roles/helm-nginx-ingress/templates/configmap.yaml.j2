apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-ingress-{{ k8s_namespace }}-controller
  namespace: {{ k8s_namespace }}
data:
  server-tokens: 'false'
  ssl-ciphers: >-
    ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-R$
  ssl-protocols: TLSv1 TLSv1.1 TLSv1.2
  use-forwarded-headers: 'true'
  use-proxy-protocol: 'true'
  compute-full-forwarded-for: "true"
  hsts: "false"
  whitelist-source-range: {{ load_balancer_source_ranges | join(",") }}
